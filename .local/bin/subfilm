#!/bin/sh
#         .             .              .		  
#         |             |              |           .	  
# ,-. ,-. |-. ,-. . ,-. |  ,_, ,-. ,-. |-. ,-,-. . |- ,_, 
# | | ,-| | | |   | |-' |   /  `-. |   | | | | | | |   /  
# `-| `-^ ^-' '   ' `-' `' '"' `-' `-' ' ' ' ' ' ' `' '"' 
#  ,|							  
#  `'							  
# GITHUB:https://github.com/gabrielzschmitz		  
# INSTAGRAM:https://www.instagram.com/gabrielz.schmitz/   
# DOTFILES:https://github.com/gabrielzschmitz/dotfiles/   
#
# Video subtitles embedder using ffmpeg

FILE=$1
FILENAME=${FILE%%.*}

echo -e "Getting the soft subtitle from file"
ffmpeg -i "${FILE}" -map 0:s:0 "${FILENAME}.srt"

echo -e "\n"
echo -e "Hard coding the subtitles in the file"
ffmpeg -i "${FILE}" -vf "subtitles='${FILENAME}'.srt:force_style='PrimaryColour=&H03fcff,Italic=1,Spacing=0.8'" "${FILENAME}SUB.mkv"

rm "${FILENAME}.srt"
mv "${FILENAME}SUB.mkv" "${FILE}"

echo -e "\n"
echo -e "${FILE} is ready!"

